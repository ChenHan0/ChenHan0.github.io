---
title: "流媒体复习资料"
categories:
    - 随记
last_modified_at: 2018-01-16T17:32:00+08:00
---

## 第一章 流媒体综述  

<!-- more -->  

![](/assets/images/StreamMedia/StreamMedia-1.png)  

### 1.1 流媒体简介（小题）

#### 1. 流媒体（Streaming Media）的含义
一种可以使音频、视频和其他多媒体能在Internet及Internet上以实时、无需下载等待的方式进行播放的技术。  
广义上：是使音频、视频等媒体形成稳定和连续的传输流与回放流的一系列技术、方法及协议的总称。  
狭义上：是一种媒体格式，该格式支持客户边下载边播放，可实现基于网络的媒体播放。  

#### 2. 流媒体特点
1. 启动延时大幅度缩短
2. 对系统缓存容量的需求大大降低
3. 流式传输的实现有特定的实时传输协议

#### 3. 流媒体系统的组成（5部分）
1. 编码工具
2. 流媒体数据
3. 服务器
4. 网络
5. 播放器

### 1.2 流媒体关键技术（小题）

#### 1. 流媒体的关键技术
1. 数据压缩/解压缩技术（核心技术）
2. 流媒体的网络传输
3. 媒体文件在流式传输中的版权问题

#### 2. 流媒体制作技术方面的问题：
对需要进行流媒体格式传输的文件进行预处理：  
1. 进行压缩
2. 向文件中添加流式信息

#### 3. 流媒体传输方面的问题：
流媒体的传输需要的协议：
采用建立在UDP协议上的RTP/RTSP实时传输协议

#### 4. 流媒体的传输过程中需要缓存的支持：
采用缓存技术来纠正数据到达次序发生改变而产生的混乱状况。  
流媒体在播放时不断读取缓存中的数据而进行播放，播放完后该数据被立即清除，新的数据存入缓存中。

#### 5. 流媒体播放方面的问题：
需要浏览器的支持。（Web上浏览器能够通过HTTP协议中內建的MIME来标记Web上的众多的多媒体文件格式，包括各种流媒体格式）

### 1.3 流媒体的传输方式（名词解释）

#### 1. 流媒体的传输方式：
是将动画、音频、视频等多媒体文件经过特殊的压缩格式分成一个个压缩包，由视频服务器向用户计算机连续、实时传送。客户机在接受到这些数据压缩包后需要利用相应的解压设备（硬件/软件）对压缩的多媒体文件进行解压。

#### 2. 顺序流式传输 & 实时流式传输
- 顺序流式传输：
    1. 顺序下载，在下载文件的同时用户可观看在线媒体，在给定时刻，用户只能观看已下载的那部分，而不能跳到还未下载的前头部分
    2. 在传输期间不依据用户连接的速度做调整
    3. 应用场景：较高质量的视频片段
- 实时流式传输：
    1. 保证媒体信号带宽与网络连接匹配，使媒体可被实时观看到，用户可快进或后退以观看前面或后面的内容
    2. 在传输期间可跟据用户连接的速度做调整
    3. 应用场景：适合现场事件，也支持随机访问

### 1.4 主要的流媒体技术
![](/assets/images/StreamMedia/StreamMedia-2.png)

### 1.5 流媒体文件格式（选择题）
#### 1.媒体压缩格式：压缩后的媒体文件和原文件包含同样的媒体信息，只是改变了原文件数据位的编排，目的是为了使文件被处理得更小。  
- AVI(Audio Video Interleaved)
- MPEG(Motion Picture Experts Group)
- WMV(Windows Media Video)
- WMA(Windows Media Audio)

#### 2. 媒体文件流格式：保证多媒体信息能够适应在网上边下载边播放的实时性而经过特殊压缩编码形成的文件格式
- real格式（ra rm rp rt）
- ASF格式（Advanced Stream Format）
- MOV格式（Movie Digital Video）
- swf格式
- mts格式
- aam格式
- FLV格式
- F4V格式

#### 3. 媒体文件发布格式：可以将不同的媒体内容集中在一起，按指定的任意顺序播放。
- ram,rpm
- asx
- smil(synchronized multimedia integration language)

## 第二章 流媒体技术和基础

#### 1. Windows Media 版权管理技术（名词解释）
- 作用：内容所有者（媒体公司或个人作者）可以方便、快捷地将他们的内容放到Internet上和大家分享，并且同时能够保护产品或作品的版权利益。  
- 工作原理： 打包->发布->获得许可证  
    Windows Media 版权管理器通过打包媒体文件来帮助内容所有者控制数字媒体（如歌曲、视频等）。打包对媒体文件进行压缩和加密处理，同时捆绑内容所有者特定的Web站点的其他信息。内容供应者发布打包的媒体文件。客户端必须获得许可证才可以打开打包的内容。

#### 2. RealSystem系统的智能流技术
- 特点：
    1. 对所有连接速率环境创建了一个媒体文件，该媒体文件中包含了不同码率的媒体流
    2. 在混合环境下以不同速率传送媒体
    3. 根据网络变化，无缝切换到速率匹配的码流上
    4. 关键帧有限，音频比其他数据更重要

## 第三章 流媒体编码技术（小题）

### 1. 压缩
#### 1. 有损压缩
![](/assets/images/StreamMedia/StreamMedia-3.png)

#### 2. 无损压缩
![](/assets/images/StreamMedia/StreamMedia-4.png)

### 2. 五种编码的应用场景
#### 1. MPEG-1：
![](/assets/images/StreamMedia/StreamMedia-5.png)

#### 2. MPEG-2：
![](/assets/images/StreamMedia/StreamMedia-6.png)

#### 3. MPEG-4：
![](/assets/images/StreamMedia/StreamMedia-7.png)

#### 4. H.261：主要用于电视电话和电视会议

#### 5. H.264：
![](/assets/images/StreamMedia/StreamMedia-8.png)

### 3. MPEG-2的视频帧
![](/assets/images/StreamMedia/StreamMedia-9.png)

### 4. MEPG-4 的关键技术：vop视频编码技术 
![](/assets/images/StreamMedia/StreamMedia-10.png)

### 5. H.264 标准中的关键技术
1. 帧间编码中的运动补偿：
    - H.264中基于运动补偿的块（宏块、宏块分区、宏块子分区）可动态选择块的形状及大小，编码的灵活性
    - 支持亚像素单位运动矢量
    - 帧间预测可以基于单帧或多帧模式
2. 帧内编码:
    - 利用相邻宏块的空间相关性来进行帧内预测编码
![](/assets/images/StreamMedia/StreamMedia-11.png)
![](/assets/images/StreamMedia/StreamMedia-12.png)

## 第四章 流媒体传输相关协议

### 4.1 流媒体的播放方式（名词解释）

1. 单播（Unicast）：  
    - 含义：客户端与服务器之间的点到点连接，
        在客户端与媒体服务器之间需要建立一个单独的数据通道，从一台服务器送出的每个数据包只能传送给一个客户机
    - 优点：
        1. 服务器可以及时响应客户端提出的请求。
        2. 服务器针对每个客户不同的请求发送不同的数据，容易实现个性化服务。
    - 缺点:
        1. 服务器针对每个客户机发送数据流，服务器流量＝客户机数量×客户机流量；在客户数量大、每个客户机流量大的流媒体应用中服务器不堪重负。
        2. 现有的网络带宽是金字塔结构，城际省际主干带宽仅相当于其所有用户带宽之和的5％。  
![](/assets/images/StreamMedia/StreamMedia-13.png)

2. 多播（组播/Multicast）:  
    - 含义：在发送者和每一接收者之间实现点对多点网络连接
        如果一台发送者同时给多个的接收者传输相同的数据，也只需复制一份的相同数据包
    - 优点：
        1. 需要相同数据流的客户端加入相同的组共享一条数据流，节省了服务器的负载。
        2. 由于组播协议是根据接收者的需要对数据流进行复制转发，所以服务器的服务总带宽不受客户接入端带宽的限制。
    - 缺点:
        1. 与单播协议相比没有纠错机制，发生丢包错包后难以弥补，但可以通过一定的容错机制和QoS加以弥补。
        2. 现行网络虽然都支持组播传输，但在客户认证、QoS等方面还需要完善，这些缺点在理论上都有成熟的解决方案，只是需要逐步推广应用到现存网络当中。
![](/assets/images/StreamMedia/StreamMedia-14.png)

3. 广播（Broadcast）:  
    - 含义：网络对其中每一台主机发出的信号都进行无条件复制并转发，所有主机都可以接收到所有信息  
    - 优点：  
        1. 网络设备简单，维护简单，布网成本低廉。  
        2. 由于服务器不用向每个客户机单独发送数据，所以服务器流量负载极低。  
    - 缺点：  
        1. 无法针对每个客户的要求和时间及时提供个性化服务。  
        2. 网络允许服务器提供数据的带宽有限，客户端的最大带宽＝服务总带宽。  
        3. 广播禁止在Internet带宽网上传输。  
![](/assets/images/StreamMedia/StreamMedia-15.png)  

![](/assets/images/StreamMedia/StreamMedia-16.png)

### 4.2 流媒体网络传输的特点（大题）
1. OSI参考模型：
    - 物理层(Physical Layer):数据还没有被组织,仅作为原始的位流或电气电压处理
    - 数据链路层(Data Link Layer):(传输的是以帧为单位的数据)负责在两个相邻结点间的线路上，无差错的传送以帧为单位的数据。每一帧包括一定数量的数据和一些必要的控制信息。
    - 网络层(Network Layer):(传输的是帧组成的数据包)。网络层的任务就是选择合适的网间路由和交换结点， 确保数据及时传送。网络层将数据链路层提供的帧组成数据包。
    - 传输层(Transport Layer):(传送单位是报文)信息的传送单位是报文。据通信子网的特性最佳的利用网络资源，并以可靠和经济的方式，为两个端系统(也就是源站和目的站)的会话层之间，提供建立、维护和取消传输连接的功能，负责可靠地传输数据。
    - 会话层(Session Layer):会话层不参与具体的传输
    - 表示层(Presentation Layer):提供格式化的表示和转换数据服务
    - 应用层(Application Layer):确定进程之间通信的性质以满足用户需要以及提供网络与用户应用软件之间的接口服务

2. TCP/IP参考模型
    - 应用层(Application Layer):包含各种网络应用协议。如HTTP、FTP、telnet、SMTP、DNS、SNMP等。
    - 传输层(Transport Layer):负责在源主机和目的主机的应用程序间建立、管理和拆除可靠而又有效的端到端连接 。主要有TCP和UDP两个传输协议
    - 网络层(Internet Layer):负责将分组独立地从信源传送到信宿，主要解决路由选择、拥塞控制和网络互联等问题。如最重要的协议——IP。
    - 网络接口层(Network Access Layer):负责将IP分组封装成适合在物理网络上传输的帧格式并传输；或将从物理网络接收到的帧解封，取出IP分组交给网络互联层。

当前几乎所有的物理网络上都可运行TCP/IP协议。

![](/assets/images/StreamMedia/StreamMedia-17.png)

### 4.3 四种协议的含义和作用

- RTP：
    1. 含义：(Real-time Transport Protocol)实时传输协议,
    2. 工作原理：负责对流媒体数据进行封包并实现媒体流的实时传输
    3. 作用：在一对一或一对多的传输情况下工作，其目的是提供时间信息和实现流同步

- RTCP：
    1. 含义：(Real-time Transport Control Protocol)实时传输控制协议
    2. 工作原理：RTCP向会话中的所有成员周期性地发送控制包
    3. 作用：负责管理传输质量,在当前应用进程之间交换控制信息，提供流量控制和拥塞控制服务。

- RTSP：
    1. 含义：(Real-time Streaming Protocol)实时流协议
    2. 工作原理（实现机制）：初始化->TCP传输->UDP传输->传输反馈
    3. 作用：主要用来使用户在播放流媒体时可以像操作本地的影碟机一样进行控制，即可以对流媒体进行暂停/继续、后退和前进等控制。

- RSVP:
    1. 含义：(Resource Reserve Protocol)资源预留协议
    2. 作用：是为保证QoS而开发的网络控制协议，用于在流所经路径上为该流进行资源预留，从而满足该流的QoS要求：
    3. 工作原理：
    ![](/assets/images/StreamMedia/StreamMedia-18.png)

#### RSVP服务质量（QoS）（名词解释）
    1. 是流规范指定的属性
    2. 流规范用于决定参加实体（路由器、接受者和发送者）进行数据交换的方式。
    3. 主机和路由器使用RSVP指定QoS

### 4.4 MMSP协议简介

MMS按以下顺序自动查找流媒体的最佳传输顺序：
    1. UDP（用户数据报协议）
    2. TCP（传输控制协议）
    3.HTTP（超文本传输协议）

### 4.5 P2P协议

- P2P协议概念：对等网络，联网的计算机直接连接到网络中其他用户的计算机实现资源与信息共享。

- 应用（了解知道有哪些）：
    1. 分布式科学计算：将众多终端的CPU资源联合起来，服务于一个共同的计算
    2. 文件共享：BT种子
    3. 流媒体直播
    4. 流媒体点播
    5. 即时语音通信（IP层语言）
    6. 网络游戏平台

- 应用环境：大规模并发服务
    1. 集中式网络
    2. 分布式的非结构化网络
    3. 分布式的结构化网络

## 第五章 流媒体节目制作

### 1. 制作流媒体节目一般过程：

1. 获得节目源：拍摄影片/录制声音，或者计算机采集影片/声音
2. 编辑影片/声音：使用编辑软件编辑，编辑完成存储到计算机的存储介质，作为后续处理的音/视频源
3. 音/视频压缩编码：利用流媒体编码器对音/视频进行编码，转换成适合网络传输的流媒体格式
4. 发布：发布流媒体音、视频文件到网络上
5. 链接：制作Web页来链接网络音、视频。

### 2. 音、视频的网络实况直播步骤：

1. 录制好的音视频安装到播放设备
2. 用软件抓取成流媒体格式的音视频
3. 设定Windows Media Server
4. 制作web页并链接到网络实况音视频

![](/assets/images/StreamMedia/StreamMedia-19.png)

### 3. 流媒体编码软件 可做事件（3种）
    1. 转换文件（转码）
    2. 广播
    3. 捕获屏幕    

## 第十章 用RealText制作流式文本文件

### 1. Real Text基本语法特点(P230-232)
![](/assets/images/StreamMedia/StreamMedia-20.png)

### 2. Real Text的标记及属性(P232-240)
![](/assets/images/StreamMedia/StreamMedia-21.png)

### 3.时间相关
![](/assets/images/StreamMedia/StreamMedia-22.png)

## 第十二章 移动流媒体技术概述

### 1. 移动流媒体技术的特点：
1. 主要针对3G网络
2. 流媒体文件通过网络进行传输
3. 播放的流媒体文件不需要较大的缓存空间  

### 2. 移动流媒体业务（3种）：
1. 流媒体点播(电影片花、精彩片断、MTV)
2. 流媒体直播(电视直播、视频监控、重大赛事、音乐现场会)
3. 下载播放(非在线、对音/视频质量要求较高的多媒体节目)

### 3. 差异
    点播:由终端用户发现并感兴趣的内容，有选择地进行播放。  
    直播:由流媒体服务器分发到用户的终端播放器。  
    下载播放:是用户将流媒体内容下载并存储到本地终端中，然后可以选择在任意时间进行播放。  

![](/assets/images/StreamMedia/StreamMedia-23.png)

### 4. 3G的含义及网络结构

- 3G含义：第三代移动通信系统，将无线通信与国际互联网等多媒体通信结合

- 有两个网络结构：
    1. 接入网（RAN）
    2. 核心网（CN）

## 第十四章 IPTV技术

### IPTV架构

    1. 流服务子系统：为用户提供流服务，是系统的核心
    2. 媒体处理子系统：将原始的节目源转化成符合规定编码格式的流媒体节目源
    3. 媒体管理子系统：对媒体资源进行管理
    4. EPG服务子系统：为用户提供业务的入口服务
    5. 运营支撑子系统：为运营商的运营管理服务的系统












